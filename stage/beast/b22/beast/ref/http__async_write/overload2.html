<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<title>http::async_write (2 of 2 overloads)</title>
<link rel="stylesheet" href="../../../boostbook.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.79.1">
<link rel="home" href="../../../index.html" title="Beast">
<link rel="up" href="../http__async_write.html" title="http::async_write">
<link rel="prev" href="overload1.html" title="http::async_write (1 of 2 overloads)">
<link rel="next" href="../http__basic_dynabuf_body.html" title="http::basic_dynabuf_body">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table cellpadding="2" width="100%"><tr><td valign="top"><img alt="Beast Logo" width="1330" height="80" src="../../../images/beast.png"></td></tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="overload1.html"><img src="../../../images/prev.png" alt="Prev"></a><a accesskey="u" href="../http__async_write.html"><img src="../../../images/up.png" alt="Up"></a><a accesskey="h" href="../../../index.html"><img src="../../../images/home.png" alt="Home"></a><a accesskey="n" href="../http__basic_dynabuf_body.html"><img src="../../../images/next.png" alt="Next"></a>
</div>
<div class="section">
<div class="titlepage"><div><div><h4 class="title">
<a name="beast.ref.http__async_write.overload2"></a><a class="link" href="overload2.html" title="http::async_write (2 of 2 overloads)">http::async_write
        (2 of 2 overloads)</a>
</h4></div></div></div>
<p>
          Write a HTTP/1 message asynchronously to a stream.
        </p>
<pre class="programlisting"><span class="keyword">template</span><span class="special">&lt;</span>
    <span class="keyword">class</span> <a href="http://www.boost.org/doc/libs/1_61_0/doc/html/boost_asio/reference/AsyncWriteStream.html" target="_top"><span class="bold"><strong>AsyncWriteStream</strong></span></a><span class="special">,</span>
    <span class="keyword">bool</span> <span class="identifier">isRequest</span><span class="special">,</span>
    <span class="keyword">class</span> <a class="link" href="../Body.html" title="Body requirements"><span class="bold"><strong>Body</strong></span></a><span class="special">,</span>
    <span class="keyword">class</span> <span class="identifier">Fields</span><span class="special">,</span>
    <span class="keyword">class</span> <span class="identifier">WriteHandler</span><span class="special">&gt;</span>
<a href="http://www.boost.org/doc/libs/1_60_0/doc/html/boost_asio/reference/asynchronous_operations.html#boost_asio.reference.asynchronous_operations.return_type_of_an_initiating_function" target="_top"><span class="emphasis"><em>void-or-deduced</em></span></a>
<span class="identifier">async_write</span><span class="special">(</span>
    <span class="identifier">AsyncWriteStream</span><span class="special">&amp;</span> <span class="identifier">stream</span><span class="special">,</span>
    <span class="identifier">message</span><span class="special">&lt;</span> <span class="identifier">isRequest</span><span class="special">,</span> <span class="identifier">Body</span><span class="special">,</span> <span class="identifier">Fields</span> <span class="special">&gt;</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">msg</span><span class="special">,</span>
    <span class="identifier">WriteHandler</span><span class="special">&amp;&amp;</span> <span class="identifier">handler</span><span class="special">);</span>
</pre>
<p>
          This function is used to asynchronously write a message to a stream. The
          function call always returns immediately. The asynchronous operation will
          continue until one of the following conditions is true:
        </p>
<div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
              The entire message is written.
            </li>
<li class="listitem">
              An error occurs.
            </li>
</ul></div>
<p>
          This operation is implemented in terms of one or more calls to the stream's
          <code class="computeroutput"><span class="identifier">async_write_some</span></code> functions,
          and is known as a <span class="emphasis"><em>composed operation</em></span>. The program
          must ensure that the stream performs no other write operations until this
          operation completes.
        </p>
<p>
          The implementation will automatically perform chunk encoding if the contents
          of the message indicate that chunk encoding is required. If the semantics
          of the message indicate that the connection should be closed after the
          message is sent, the operation will complete with the error set to <code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">asio</span><span class="special">::</span><span class="identifier">error</span><span class="special">::</span><span class="identifier">eof</span></code>.
        </p>
<h6>
<a name="beast.ref.http__async_write.overload2.h0"></a>
          <span class="phrase"><a name="beast.ref.http__async_write.overload2.parameters"></a></span><a class="link" href="overload2.html#beast.ref.http__async_write.overload2.parameters">Parameters</a>
        </h6>
<div class="variablelist">
<p class="title"><b></b></p>
<dl class="variablelist">
<dt><span class="term">stream</span></dt>
<dd><p>
                The stream to which the data is to be written. The type must support
                the <code class="computeroutput"><span class="identifier">AsyncWriteStream</span></code>
                concept.
              </p></dd>
<dt><span class="term">msg</span></dt>
<dd><p>
                The message to write. The object must remain valid at least until
                the completion handler is called; ownership is not transferred.
              </p></dd>
<dt><span class="term">handler</span></dt>
<dd>
<p>
                The handler to be called when the operation completes. Copies will
                be made of the handler as required. The equivalent function signature
                of the handler must be:
              </p>
<pre class="programlisting"> <span class="keyword">void</span> <span class="identifier">handler</span><span class="special">(</span>
    <span class="identifier">error_code</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">error</span> <span class="comment">// result of operation</span>
<span class="special">);</span>
</pre>
<p>
                Regardless of whether the asynchronous operation completes immediately
                or not, the handler will not be invoked from within this function.
                Invocation of the handler will be performed in a manner equivalent
                to using <code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">asio</span><span class="special">::</span><span class="identifier">io_service</span><span class="special">::</span><span class="identifier">post</span></code>.
              </p>
</dd>
</dl>
</div>
</div>
<table xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" width="100%"><tr>
<td align="left"></td>
<td align="right"><div class="copyright-footer">Copyright &#169; 2013-2016 Vinnie
      Falco<p>
        Distributed under the Boost Software License, Version 1.0. (See accompanying
        file LICENSE_1_0.txt or copy at <a href="http://www.boost.org/LICENSE_1_0.txt" target="_top">http://www.boost.org/LICENSE_1_0.txt</a>)
      </p>
</div></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="overload1.html"><img src="../../../images/prev.png" alt="Prev"></a><a accesskey="u" href="../http__async_write.html"><img src="../../../images/up.png" alt="Up"></a><a accesskey="h" href="../../../index.html"><img src="../../../images/home.png" alt="Home"></a><a accesskey="n" href="../http__basic_dynabuf_body.html"><img src="../../../images/next.png" alt="Next"></a>
</div>
</body>
</html>
