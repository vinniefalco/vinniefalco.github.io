<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<title>DynamicBuffer requirements</title>
<link rel="stylesheet" href="../../boostbook.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.79.1">
<link rel="home" href="../../index.html" title="Beast">
<link rel="up" href="../ref.html" title="Reference">
<link rel="prev" href="BufferSequence.html" title="BufferSequence requirements">
<link rel="next" href="Field.html" title="Field requirements">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table cellpadding="2" width="100%"><tr><td valign="top"><img alt="Beast Logo" width="1330" height="80" src="../../images/beast.png"></td></tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="BufferSequence.html"><img src="../../images/prev.png" alt="Prev"></a><a accesskey="u" href="../ref.html"><img src="../../images/up.png" alt="Up"></a><a accesskey="h" href="../../index.html"><img src="../../images/home.png" alt="Home"></a><a accesskey="n" href="Field.html"><img src="../../images/next.png" alt="Next"></a>
</div>
<div class="section">
<div class="titlepage"><div><div><h3 class="title">
<a name="beast.ref.DynamicBuffer"></a><a class="link" href="DynamicBuffer.html" title="DynamicBuffer requirements">DynamicBuffer requirements</a>
</h3></div></div></div>
<p>
        A dynamic buffer encapsulates memory storage that may be automatically resized
        as required, where the memory is divided into an input sequence followed
        by an output sequence. These memory regions are internal to the dynamic buffer,
        but direct access to the elements is provided to permit them to be efficiently
        used with I/O operations, such as the send or receive operations of a socket.
        Data written to the output sequence of a dynamic buffer object is appended
        to the input sequence of the same object.
      </p>
<p>
        The interface to this concept is intended to permit the following implementation
        strategies:
      </p>
<div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
            A single contiguous octet array, which is reallocated as necessary to
            accommodate changes in the size of the octet sequence.
          </li>
<li class="listitem">
            A sequence of one or more octet arrays, where each array is of the same
            size. Additional octet array objects are appended to the sequence to
            accommodate changes in the size of the octet sequence.
          </li>
<li class="listitem">
            A sequence of one or more octet arrays of varying sizes. Additional octet
            array objects are appended to the sequence to accommodate changes in
            the size of the character sequence. This is the implementation approach
            currently offered by <a class="link" href="basic_streambuf.html" title="basic_streambuf"><code class="computeroutput"><span class="identifier">basic_streambuf</span></code></a>.
          </li>
</ul></div>
<p>
        In the table below:
      </p>
<div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
            <code class="computeroutput"><span class="identifier">X</span></code> denotes a dynamic buffer
            class.
          </li>
<li class="listitem">
            <code class="computeroutput"><span class="identifier">a</span></code> denotes a value of
            type <code class="computeroutput"><span class="identifier">X</span></code>.
          </li>
<li class="listitem">
            <code class="computeroutput"><span class="identifier">c</span></code> denotes a (possibly
            const) value of type <code class="computeroutput"><span class="identifier">X</span></code>.
          </li>
<li class="listitem">
            <code class="computeroutput"><span class="identifier">n</span></code> denotes a value of
            type <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">size_t</span></code>.
          </li>
<li class="listitem">
            <code class="computeroutput"><span class="identifier">T</span></code> denotes a type meeting
            the requirements for <a href="http://www.boost.org/doc/libs/1_61_0/doc/html/boost_asio/reference/ConstBufferSequence.html" target="_top"><code class="computeroutput"><span class="identifier">ConstBufferSequence</span></code></a>.
          </li>
<li class="listitem">
            <code class="computeroutput"><span class="identifier">U</span></code> denotes a type meeting
            the requirements for <a href="http://www.boost.org/doc/libs/1_61_0/doc/html/boost_asio/reference/MutableBufferSequence.html" target="_top"><code class="computeroutput"><span class="identifier">MutableBufferSequence</span></code></a>.
          </li>
</ul></div>
<div class="table">
<a name="beast.ref.DynamicBuffer.dynamicbuffer_requirements"></a><p class="title"><b>Table&#160;3.&#160;DynamicBuffer requirements</b></p>
<div class="table-contents"><table class="table" summary="DynamicBuffer requirements">
<colgroup>
<col>
<col>
<col>
</colgroup>
<thead><tr>
<th>
                <p>
                  operation
                </p>
              </th>
<th>
                <p>
                  type
                </p>
              </th>
<th>
                <p>
                  semantics, pre/post-conditions
                </p>
              </th>
</tr></thead>
<tbody>
<tr>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">X</span><span class="special">::</span><span class="identifier">const_buffers_type</span></code>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">T</span></code>
                </p>
              </td>
<td>
                <p>
                  This type represents the memory associated with the input sequence.
                </p>
              </td>
</tr>
<tr>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">X</span><span class="special">::</span><span class="identifier">mutable_buffers_type</span></code>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">U</span></code>
                </p>
              </td>
<td>
                <p>
                  This type represents the memory associated with the output sequence.
                </p>
              </td>
</tr>
<tr>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">c</span><span class="special">.</span><span class="identifier">size</span><span class="special">()</span></code>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">size_t</span></code>
                </p>
              </td>
<td>
                <p>
                  Returns the size, in bytes, of the input sequence.
                </p>
              </td>
</tr>
<tr>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">c</span><span class="special">.</span><span class="identifier">max_size</span><span class="special">()</span></code>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">size_t</span></code>
                </p>
              </td>
<td>
                <p>
                  Returns the permitted maximum of the sum of the sizes of the input
                  sequence and output sequence.
                </p>
              </td>
</tr>
<tr>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">c</span><span class="special">.</span><span class="identifier">capacity</span><span class="special">()</span></code>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">size_t</span></code>
                </p>
              </td>
<td>
                <p>
                  Returns the maximum sum of the sizes of the input sequence and
                  output sequence that the dynamic buffer can hold without requiring
                  reallocation.
                </p>
              </td>
</tr>
<tr>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">c</span><span class="special">.</span><span class="identifier">data</span><span class="special">()</span></code>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">X</span><span class="special">::</span><span class="identifier">const_buffers_type</span></code>
                </p>
              </td>
<td>
                <p>
                  Returns a constant buffer sequence u that represents the memory
                  associated with the input sequence, and where <code class="computeroutput"><span class="identifier">buffer_size</span><span class="special">(</span><span class="identifier">u</span><span class="special">)</span> <span class="special">==</span> <span class="identifier">size</span><span class="special">()</span></code>.
                </p>
              </td>
</tr>
<tr>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">a</span><span class="special">.</span><span class="identifier">prepare</span><span class="special">(</span><span class="identifier">n</span><span class="special">)</span></code>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">X</span><span class="special">::</span><span class="identifier">mutable_buffers_type</span></code>
                </p>
              </td>
<td>
                <p>
                  Returns a mutable buffer sequence u representing the output sequence,
                  and where <code class="computeroutput"><span class="identifier">buffer_size</span><span class="special">(</span><span class="identifier">u</span><span class="special">)</span> <span class="special">==</span> <span class="identifier">n</span></code>. The dynamic buffer reallocates
                  memory as required. All constant or mutable buffer sequences previously
                  obtained using <code class="computeroutput"><span class="identifier">data</span><span class="special">()</span></code> or <code class="computeroutput"><span class="identifier">prepare</span><span class="special">()</span></code> are invalidated.
                </p>
                <p>
                  Throws: <code class="computeroutput"><span class="identifier">length_error</span></code>
                  if <code class="computeroutput"><span class="identifier">size</span><span class="special">()</span>
                  <span class="special">+</span> <span class="identifier">n</span></code>
                  exceeds <code class="computeroutput"><span class="identifier">max_size</span><span class="special">()</span></code>.
                </p>
              </td>
</tr>
<tr>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">a</span><span class="special">.</span><span class="identifier">commit</span><span class="special">(</span><span class="identifier">n</span><span class="special">)</span></code>
                </p>
              </td>
<td>
              </td>
<td>
                <p>
                  Appends <code class="computeroutput"><span class="identifier">n</span></code> bytes
                  from the start of the output sequence to the end of the input sequence.
                  The remainder of the output sequence is discarded. If <code class="computeroutput"><span class="identifier">n</span></code> is greater than the size of
                  the output sequence, the entire output sequence is appended to
                  the input sequence. All constant or mutable buffer sequences previously
                  obtained using <code class="computeroutput"><span class="identifier">data</span><span class="special">()</span></code> or <code class="computeroutput"><span class="identifier">prepare</span><span class="special">()</span></code> are invalidated.
                </p>
              </td>
</tr>
<tr>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">a</span><span class="special">.</span><span class="identifier">consume</span><span class="special">(</span><span class="identifier">n</span><span class="special">)</span></code>
                </p>
              </td>
<td>
              </td>
<td>
                <p>
                  Removes <code class="computeroutput"><span class="identifier">n</span></code> bytes
                  from beginning of the input sequence. If <code class="computeroutput"><span class="identifier">n</span></code>
                  is greater than the size of the input sequence, the entire input
                  sequence is removed. All constant or mutable buffer sequences previously
                  obtained using <code class="computeroutput"><span class="identifier">data</span><span class="special">()</span></code> or <code class="computeroutput"><span class="identifier">prepare</span><span class="special">()</span></code> are invalidated.
                </p>
              </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break">
</div>
<table xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" width="100%"><tr>
<td align="left"></td>
<td align="right"><div class="copyright-footer">Copyright &#169; 2013-2016 Vinnie
      Falco<p>
        Distributed under the Boost Software License, Version 1.0. (See accompanying
        file LICENSE_1_0.txt or copy at <a href="http://www.boost.org/LICENSE_1_0.txt" target="_top">http://www.boost.org/LICENSE_1_0.txt</a>)
      </p>
</div></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="BufferSequence.html"><img src="../../images/prev.png" alt="Prev"></a><a accesskey="u" href="../ref.html"><img src="../../images/up.png" alt="Up"></a><a accesskey="h" href="../../index.html"><img src="../../images/home.png" alt="Home"></a><a accesskey="n" href="Field.html"><img src="../../images/next.png" alt="Next"></a>
</div>
</body>
</html>
